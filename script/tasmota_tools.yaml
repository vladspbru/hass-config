##--------------------------------------------
## query states
##
sonoff_qry_state:
  sequence:
    - service: mqtt.publish
      data_template:
        topic: 'cmnd/{{id}}/STATE'
        payload: "?"
    - service: mqtt.publish
      data_template:
        topic: 'cmnd/{{id}}/POWER'
        payload: "?"
    #hak query tele
    #- service: mqtt.publish
    #  data_template:
    #    topic: 'cmnd/{{id}}/TelePeriod'
    #    payload: "0"
    - service: mqtt.publish
      data_template:
        topic: 'cmnd/{{id}}/TelePeriod'
        payload: "?"
    - service: mqtt.publish
      data_template:
        topic: 'cmnd/{{id}}/Timers'
        payload: "?"

            
sonoff_qry_states:
  alias: Query states
  sequence:
    - service: script.sonoff_qry_state
      data:
        id: "sonoffs"
    - service: script.sonoff_qry_state
      data:
        id: "tasmotas"

    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_95B510"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_26575D"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_F4BC40"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_801E75"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_68B5C7"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_B2DF94"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "sonoff_68AC8D"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "tasmota_ab76c3"
    # - service: script.sonoff_qry_state
    #   data:
    #     id: "tasmota_a99a0f"
            
            
            
            
#---------------------------------------------
    
